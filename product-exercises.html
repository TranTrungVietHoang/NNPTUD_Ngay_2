<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>B√†i T·∫≠p JavaScript - Product</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }

        h1 {
            color: #667eea;
            text-align: center;
            margin-bottom: 30px;
            font-size: 2.5em;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        }

        .exercise {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            border-left: 5px solid #667eea;
            padding: 20px;
            margin-bottom: 20px;
            border-radius: 10px;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .exercise:hover {
            transform: translateX(5px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
        }

        .exercise h2 {
            color: #764ba2;
            margin-bottom: 15px;
            font-size: 1.5em;
        }

        .result {
            background: white;
            padding: 15px;
            border-radius: 8px;
            margin-top: 10px;
            border: 1px solid #e0e0e0;
        }

        .result pre {
            white-space: pre-wrap;
            word-wrap: break-word;
            color: #333;
            font-family: 'Courier New', monospace;
            font-size: 14px;
        }

        .success {
            color: #28a745;
            font-weight: bold;
        }

        .info {
            color: #17a2b8;
            font-weight: bold;
        }

        .warning {
            color: #ffc107;
            font-weight: bold;
        }

        .badge {
            display: inline-block;
            background: #667eea;
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9em;
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üõçÔ∏è B√ÄI T·∫¨P JAVASCRIPT - PRODUCT</h1>
        <div id="output"></div>
    </div>

    <script>
        // H√†m ti·ªán √≠ch ƒë·ªÉ hi·ªÉn th·ªã k·∫øt qu·∫£
        function displayResult(title, content, exerciseNumber) {
            const output = document.getElementById('output');
            const exerciseDiv = document.createElement('div');
            exerciseDiv.className = 'exercise';
            exerciseDiv.innerHTML = `
                <span class="badge">C√¢u ${exerciseNumber}</span>
                <h2>${title}</h2>
                <div class="result">
                    <pre>${content}</pre>
                </div>
            `;
            output.appendChild(exerciseDiv);
        }

        // ===== C√ÇU 1: Khai b√°o constructor function Product =====
        function Product(id, name, price, quantity, category, isAvailable) {
            this.id = id;
            this.name = name;
            this.price = price;
            this.quantity = quantity;
            this.category = category;
            this.isAvailable = isAvailable;
        }

        displayResult(
            'Khai b√°o constructor function Product',
            'Constructor function Product ƒë√£ ƒë∆∞·ª£c t·∫°o v·ªõi c√°c thu·ªôc t√≠nh:\n' +
            '- id: m√£ s·∫£n ph·∫©m\n' +
            '- name: t√™n s·∫£n ph·∫©m\n' +
            '- price: gi√° s·∫£n ph·∫©m\n' +
            '- quantity: s·ªë l∆∞·ª£ng t·ªìn kho\n' +
            '- category: danh m·ª•c s·∫£n ph·∫©m\n' +
            '- isAvailable: tr·∫°ng th√°i b√°n (true/false)',
            1
        );

        // ===== C√ÇU 2: Kh·ªüi t·∫°o m·∫£ng products g·ªìm √≠t nh·∫•t 6 s·∫£n ph·∫©m =====
        const products = [
            new Product(1, 'iPhone 15 Pro Max', 35000000, 15, 'Electronics', true),
            new Product(2, 'Samsung Galaxy S24 Ultra', 32000000, 20, 'Electronics', true),
            new Product(3, 'AirPods Pro', 6500000, 0, 'Accessories', false),
            new Product(4, 'iPad Air M2', 18000000, 10, 'Electronics', true),
            new Product(5, 'Apple Watch Ultra', 22000000, 8, 'Accessories', true),
            new Product(6, 'MacBook Pro 16"', 65000000, 5, 'Electronics', true),
            new Product(7, 'USB-C Cable', 450000, 50, 'Accessories', true),
            new Product(8, 'Magic Keyboard', 3500000, 12, 'Accessories', true)
        ];

        let productsDisplay = 'üì¶ Danh s√°ch s·∫£n ph·∫©m:\n\n';
        products.forEach((product, index) => {
            productsDisplay += `${index + 1}. ${product.name}\n`;
            productsDisplay += `   - Gi√°: ${product.price.toLocaleString('vi-VN')} VNƒê\n`;
            productsDisplay += `   - Danh m·ª•c: ${product.category}\n`;
            productsDisplay += `   - S·ªë l∆∞·ª£ng: ${product.quantity}\n`;
            productsDisplay += `   - Tr·∫°ng th√°i: ${product.isAvailable ? 'ƒêang b√°n' : 'Ng·ª´ng b√°n'}\n\n`;
        });

        displayResult(
            'Kh·ªüi t·∫°o m·∫£ng products (√≠t nh·∫•t 6 s·∫£n ph·∫©m, thu·ªôc t·ªëi thi·ªÉu 2 danh m·ª•c kh√°c nhau)',
            productsDisplay,
            2
        );

        // ===== C√ÇU 3: T·∫°o m·∫£ng m·ªõi ch·ªâ ch·ª©a name, price c·ªßa m·ªói s·∫£n ph·∫©m =====
        const productNamePrice = products.map(product => ({
            name: product.name,
            price: product.price
        }));

        let namePriceDisplay = 'üìù Danh s√°ch t√™n v√† gi√° s·∫£n ph·∫©m:\n\n';
        productNamePrice.forEach((item, index) => {
            namePriceDisplay += `${index + 1}. ${item.name} - ${item.price.toLocaleString('vi-VN')} VNƒê\n`;
        });

        displayResult(
            'T·∫°o m·∫£ng m·ªõi ch·ªâ ch·ª©a name, price c·ªßa m·ªói s·∫£n ph·∫©m',
            namePriceDisplay,
            3
        );

        // ===== C√ÇU 4: L·ªçc ra c√°c s·∫£n ph·∫©m c√≤n h√†ng trong kho (quantity > 0) =====
        const productsInStock = products.filter(product => product.quantity > 0);

        let inStockDisplay = '‚úÖ S·∫£n ph·∫©m c√≤n h√†ng trong kho:\n\n';
        productsInStock.forEach((product, index) => {
            inStockDisplay += `${index + 1}. ${product.name} - S·ªë l∆∞·ª£ng: ${product.quantity}\n`;
        });

        displayResult(
            'L·ªçc ra c√°c s·∫£n ph·∫©m c√≤n h√†ng trong kho (quantity > 0)',
            inStockDisplay,
            4
        );

        // ===== C√ÇU 5: Ki·ªÉm tra xem c√≥ √≠t nh·∫•t m·ªôt s·∫£n ph·∫©m c√≥ gi√° tr√™n 30.000.000 hay kh√¥ng =====
        const hasExpensiveProduct = products.some(product => product.price > 30000000);

        let expensiveDisplay = `K·∫øt qu·∫£: ${hasExpensiveProduct ? '<span class="success">‚úì C√ì</span>' : '<span class="warning">‚úó KH√îNG</span>'}\n\n`;
        
        if (hasExpensiveProduct) {
            const expensiveProducts = products.filter(product => product.price > 30000000);
            expensiveDisplay += 'C√°c s·∫£n ph·∫©m c√≥ gi√° tr√™n 30.000.000:\n';
            expensiveProducts.forEach((product, index) => {
                expensiveDisplay += `${index + 1}. ${product.name} - ${product.price.toLocaleString('vi-VN')} VNƒê\n`;
            });
        }

        displayResult(
            'Ki·ªÉm tra xem c√≥ √≠t nh·∫•t m·ªôt s·∫£n ph·∫©m c√≥ gi√° tr√™n 30.000.000 hay kh√¥ng',
            expensiveDisplay.replace(/<span class="success">|<span class="warning">|<\/span>/g, ''),
            5
        );

        // ===== C√ÇU 6: Ki·ªÉm tra xem t·∫•t c·∫£ s·∫£n ph·∫©m thu·ªôc danh m·ª•c "Accessories" c√≥ ƒëang ƒë∆∞·ª£c b√°n (isAvailable = true) hay kh√¥ng =====
        const accessoriesProducts = products.filter(product => product.category === 'Accessories');
        const allAccessoriesAvailable = accessoriesProducts.every(product => product.isAvailable === true);

        let accessoriesDisplay = `K·∫øt qu·∫£: ${allAccessoriesAvailable ? '‚úì T·∫§T C·∫¢ ƒë·ªÅu ƒëang b√°n' : '‚úó KH√îNG ph·∫£i t·∫•t c·∫£ ƒë·ªÅu ƒëang b√°n'}\n\n`;
        accessoriesDisplay += `T·ªïng s·ªë s·∫£n ph·∫©m Accessories: ${accessoriesProducts.length}\n\n`;
        accessoriesDisplay += 'Chi ti·∫øt:\n';
        accessoriesProducts.forEach((product, index) => {
            accessoriesDisplay += `${index + 1}. ${product.name} - Tr·∫°ng th√°i: ${product.isAvailable ? 'ƒêang b√°n ‚úì' : 'Ng·ª´ng b√°n ‚úó'}\n`;
        });

        displayResult(
            'Ki·ªÉm tra xem t·∫•t c·∫£ s·∫£n ph·∫©m thu·ªôc danh m·ª•c "Accessories" c√≥ ƒëang ƒë∆∞·ª£c b√°n hay kh√¥ng',
            accessoriesDisplay,
            6
        );

        // ===== C√ÇU 7: T√≠nh t·ªïng gi√° tr·ªã kho h√†ng (price √ó quantity) =====
        const totalInventoryValue = products.reduce((total, product) => {
            return total + (product.price * product.quantity);
        }, 0);

        let inventoryDisplay = `üí∞ T·ªïng gi√° tr·ªã kho h√†ng: ${totalInventoryValue.toLocaleString('vi-VN')} VNƒê\n\n`;
        inventoryDisplay += 'Chi ti·∫øt t√≠nh to√°n:\n';
        products.forEach((product, index) => {
            const value = product.price * product.quantity;
            inventoryDisplay += `${index + 1}. ${product.name}:\n`;
            inventoryDisplay += `   ${product.price.toLocaleString('vi-VN')} √ó ${product.quantity} = ${value.toLocaleString('vi-VN')} VNƒê\n`;
        });

        displayResult(
            'T√≠nh t·ªïng gi√° tr·ªã kho h√†ng (price √ó quantity)',
            inventoryDisplay,
            7
        );

        // ===== C√ÇU 8: D√πng for...of duy·ªát m·∫£ng products v√† in ra: T√™n s·∫£n ph·∫©m - Danh m·ª•c - Tr·∫°ng th√°i =====
        let forOfDisplay = 'üìã Danh s√°ch s·∫£n ph·∫©m (d√πng for...of):\n\n';
        let count = 1;
        for (const product of products) {
            const status = product.isAvailable ? 'ƒêang b√°n' : 'Ng·ª´ng b√°n';
            forOfDisplay += `${count}. ${product.name} - ${product.category} - ${status}\n`;
            count++;
        }

        displayResult(
            'D√πng for...of duy·ªát m·∫£ng products v√† in ra: T√™n s·∫£n ph·∫©m - Danh m·ª•c - Tr·∫°ng th√°i',
            forOfDisplay,
            8
        );

        // ===== C√ÇU 9: D√πng for...in ƒë·ªÉ in ra t√™n thu·ªôc t√≠nh v√† gi√° tr·ªã t∆∞∆°ng ·ª©ng =====
        let forInDisplay = 'üîç Thu·ªôc t√≠nh v√† gi√° tr·ªã c·ªßa s·∫£n ph·∫©m ƒë·∫ßu ti√™n (d√πng for...in):\n\n';
        forInDisplay += `S·∫£n ph·∫©m: ${products[0].name}\n`;
        forInDisplay += '‚îÄ'.repeat(50) + '\n\n';
        
        for (const property in products[0]) {
            const value = products[0][property];
            forInDisplay += `üìå Thu·ªôc t√≠nh: ${property}\n`;
            forInDisplay += `   Gi√° tr·ªã: ${typeof value === 'number' ? value.toLocaleString('vi-VN') : value}\n\n`;
        }

        displayResult(
            'D√πng for...in ƒë·ªÉ in ra t√™n thu·ªôc t√≠nh v√† gi√° tr·ªã t∆∞∆°ng ·ª©ng',
            forInDisplay,
            9
        );

        // ===== C√ÇU 10: L·∫•y danh s√°ch t√™n c√°c s·∫£n ph·∫©m ƒëang b√°n v√† c√≤n h√†ng =====
        const availableAndInStockNames = products
            .filter(product => product.isAvailable === true && product.quantity > 0)
            .map(product => product.name);

        let availableDisplay = `‚úÖ T·ªïng s·ªë: ${availableAndInStockNames.length} s·∫£n ph·∫©m\n\n`;
        availableDisplay += 'Danh s√°ch:\n';
        availableAndInStockNames.forEach((name, index) => {
            availableDisplay += `${index + 1}. ${name}\n`;
        });

        displayResult(
            'L·∫•y danh s√°ch t√™n c√°c s·∫£n ph·∫©m ƒëang b√°n v√† c√≤n h√†ng',
            availableDisplay,
            10
        );

        // In t·∫•t c·∫£ k·∫øt qu·∫£ ra console ƒë·ªÉ d·ªÖ ki·ªÉm tra
        console.log('===== B√ÄI T·∫¨P JAVASCRIPT - PRODUCT =====\n');
        console.log('C√¢u 1: Constructor function Product ƒë√£ ƒë∆∞·ª£c t·∫°o');
        console.log('\nC√¢u 2: M·∫£ng products:', products);
        console.log('\nC√¢u 3: M·∫£ng name-price:', productNamePrice);
        console.log('\nC√¢u 4: S·∫£n ph·∫©m c√≤n h√†ng:', productsInStock);
        console.log('\nC√¢u 5: C√≥ s·∫£n ph·∫©m > 30tr?', hasExpensiveProduct);
        console.log('\nC√¢u 6: T·∫•t c·∫£ Accessories ƒëang b√°n?', allAccessoriesAvailable);
        console.log('\nC√¢u 7: T·ªïng gi√° tr·ªã kho:', totalInventoryValue.toLocaleString('vi-VN'));
        console.log('\nC√¢u 8: for...of - Xem tr√™n trang web');
        console.log('\nC√¢u 9: for...in - Xem tr√™n trang web');
        console.log('\nC√¢u 10: S·∫£n ph·∫©m ƒëang b√°n v√† c√≤n h√†ng:', availableAndInStockNames);
    </script>
</body>
</html>
